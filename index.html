<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ReplyShastra</title>

<meta name="google-site-verification" content="rznJYnPQ3urHS3woTdqlZZ0ohdCoHf4GwCjjZlhM1WE" />

<style>
*{box-sizing:border-box;}

body{
margin:0;
background:#0b0b0f;
font-family:Arial, Helvetica, sans-serif;
color:white;
height:100vh;
display:flex;
flex-direction:column;
}

/* HEADER */
.header{
height:60px;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 15px;
background:#111116;
border-bottom:1px solid #1f1f25;
font-size:22px;
letter-spacing:2px;
}

.menu{
font-size:26px;
cursor:pointer;
}

/* CHAT AREA */
.chat{
flex:1;
overflow-y:auto;
padding:15px;
display:flex;
flex-direction:column;
gap:10px;
}

/* MESSAGE BUBBLES */
.msg{
max-width:80%;
padding:12px 14px;
border-radius:14px;
line-height:1.5;
white-space:pre-wrap;
}

.user{
background:#5865f2;
align-self:flex-end;
}

.bot{
background:#1a1a22;
align-self:flex-start;
}

/* WELCOME CARD */
.welcome{
background:#15151c;
border-radius:16px;
padding:16px;
margin-bottom:10px;
}

.quick{
display:flex;
flex-direction:column;
gap:10px;
margin-top:12px;
}

.quick button{
padding:12px;
border-radius:12px;
border:none;
background:#1e1e28;
color:white;
font-size:14px;
cursor:pointer;
}

/* INPUT BOX */
.inputbox{
position:sticky;
bottom:0;
display:flex;
padding:10px;
background:#0f0f14;
border-top:1px solid #1c1c22;
}

input{
flex:1;
padding:12px;
border:none;
outline:none;
border-radius:12px;
background:#1a1a22;
color:white;
font-size:15px;
}

button.send{
margin-left:8px;
padding:12px 18px;
border:none;
border-radius:12px;
background:#5865f2;
color:white;
font-weight:bold;
cursor:pointer;
}

/* TYPING DOTS */
.typing{
display:flex;
gap:5px;
padding:10px 14px;
background:#1a1a22;
border-radius:14px;
width:60px;
}

.dot{
width:8px;
height:8px;
background:white;
border-radius:50%;
animation:blink 1.4s infinite;
}

.dot:nth-child(2){animation-delay:.2s}
.dot:nth-child(3){animation-delay:.4s}

@keyframes blink{
0%{opacity:.2}
20%{opacity:1}
100%{opacity:.2}
}
</style>
</head>

<body>

<div class="header">
ReplyShastra
<div class="menu">‚ò∞</div>
</div>

<div id="chat" class="chat">

<div class="welcome">
<b>Bhai welcome ü§ù</b><br><br>
Apni situation likh ya niche se select kar ‚Äî  
Main tujhe exact message dunga jo tu usse bhejega.

<div class="quick">
<button onclick="quickMsg('Meri girlfriend gussa hai mujhse')">üò§ Girlfriend gussa</button>
<button onclick="quickMsg('Wo seen karke reply nahi kar rahi')">‚ùÑÔ∏è Seen karke reply nahi</button>
<button onclick="quickMsg('Breakup ho gaya hai')">üíî Breakup ho gaya</button>
</div>

</div>

</div>

<div class="inputbox">
<input id="msg" placeholder="Apni situation likh...">
<button class="send" onclick="send()">Send</button>
</div>

<script>

const chat=document.getElementById("chat");

function addMessage(text,type){
let div=document.createElement("div");
div.className="msg "+type;
div.textContent=text;
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

function showTyping(){
let div=document.createElement("div");
div.className="typing";
div.id="typing";
div.innerHTML="<div class='dot'></div><div class='dot'></div><div class='dot'></div>";
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

function removeTyping(){
let t=document.getElementById("typing");
if(t) t.remove();
}

function quickMsg(text){
document.getElementById("msg").value=text;
send();
}

async function send(){
let input=document.getElementById("msg");
let text=input.value.trim();
if(!text) return;

addMessage(text,"user");
input.value="";

showTyping();

try{
let res=await fetch("https://replyshastraai-production.up.railway.app/chat",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({message:text})
});

let data=await res.json();

removeTyping();
addMessage(data.reply,"bot");

}catch(e){
removeTyping();
addMessage("Server busy... thodi der baad try karo.","bot");
}
}

</script>
</body>
</html>
