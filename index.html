<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ReplyShastra</title>
<meta name="google-site-verification" content="rznJYnPQ3urHS3woTdqlZZ0ohdCoHf4GwCjjZlhM1WE" />
<style>
*{box-sizing:border-box;}

body{
margin:0;
background:#0b0b0f;
font-family:Arial, Helvetica, sans-serif;
color:white;
height:100vh;
display:flex;
flex-direction:column;
overflow:hidden;
}

/* HEADER */
.header{
height:60px;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 15px;
background:#111116;
border-bottom:1px solid #1f1f25;
font-size:22px;
letter-spacing:2px;
}

.menu{
font-size:26px;
cursor:pointer;
}

/* SIDEBAR */
.sidebar{
position:fixed;
top:0;
right:-260px;
width:260px;
height:100%;
background:#111116;
transition:.3s;
padding:20px;
z-index:999;
}

.sidebar.active{
right:0;
}

.sidebar h3{
margin-top:0;
}

.sidebar button{
width:100%;
padding:12px;
margin-top:10px;
background:#1b1b24;
color:white;
border:none;
border-radius:8px;
cursor:pointer;
}

/* CHAT AREA */
.chat{
flex:1;
overflow-y:auto;
padding:15px;
display:flex;
flex-direction:column;
gap:10px;
}

.msg{
max-width:75%;
padding:12px 14px;
border-radius:14px;
line-height:1.5;
white-space:pre-wrap;
}

.user{
background:#4f63ff;
align-self:flex-end;
}

.bot{
background:#1a1a22;
align-self:flex-start;
}

/* INPUT */
.inputbox{
display:flex;
padding:10px;
background:#0f0f14;
border-top:1px solid #1c1c22;
}

input{
flex:1;
padding:12px;
border:none;
outline:none;
border-radius:12px;
background:#1a1a22;
color:white;
font-size:15px;
}

button.send{
margin-left:8px;
padding:12px 18px;
border:none;
border-radius:12px;
background:#4f63ff;
color:white;
font-weight:bold;
cursor:pointer;
}

/* TYPING DOTS */
.typing{
display:flex;
gap:5px;
padding:10px 14px;
background:#1a1a22;
border-radius:14px;
width:60px;
}

.dot{
width:8px;
height:8px;
background:white;
border-radius:50%;
animation:blink 1.4s infinite;
}

.dot:nth-child(2){animation-delay:.2s}
.dot:nth-child(3){animation-delay:.4s}

@keyframes blink{
0%{opacity:.2}
20%{opacity:1}
100%{opacity:.2}
}
</style>
</head>

<body>

<div class="header">
ReplyShastra
<div class="menu" onclick="toggleMenu()">â˜°</div>
</div>

<div id="sidebar" class="sidebar">
<h3>Settings</h3>
<button>My Plan</button>
<button>Premium</button>
<button>Clear Chat</button>
</div>

<div id="chat" class="chat"></div>

<div class="inputbox">
<input id="msg" placeholder="Apni situation likh...">
<button class="send" onclick="send()">Send</button>
</div>

<script>

const chat=document.getElementById("chat");

function toggleMenu(){
document.getElementById("sidebar").classList.toggle("active");
}

function addMessage(text,type){
let div=document.createElement("div");
div.className="msg "+type;
div.textContent=text;
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

function showTyping(){
let div=document.createElement("div");
div.className="typing";
div.id="typing";

div.innerHTML="<div class='dot'></div><div class='dot'></div><div class='dot'></div>";
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

function removeTyping(){
let t=document.getElementById("typing");
if(t) t.remove();
}

async function send(){
let input=document.getElementById("msg");
let text=input.value.trim();
if(!text) return;

addMessage(text,"user");
input.value="";

showTyping();

try{
let res=await fetch("https://replyshastraai-production.up.railway.app/chat",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({message:text})
});

let data=await res.json();

removeTyping();
addMessage(data.reply,"bot");

}catch(e){
removeTyping();
addMessage("Server busy... thodi der baad try karo.","bot");
}
}

</script>
</body>
</html>
